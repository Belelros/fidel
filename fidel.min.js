/*!
  * Fidel - A javascript controller 
  * https://github.com/jgallen23/fidel
  * copyright JGA 2011
  * MIT License
  */
var str=function(){var a={},b=/\{([^}]+)\}/g;return{format:function(a,c){return a.replace(b,function(a,b){return c[b]})},template:function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g,"").split("{!").join("\t").replace(/((^|!})[^\t]*)'/g,"$1\r").replace(/\t=(.*?)!}/g,"',$1,'").split("\t").join("');").split("!}").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(c);return d?e(d):e}}}();typeof module!="undefined"&&(module.exports=str),function(a){var b=/^(\w+)\s*(.*)$/,c=function(){return{_initialize:function(a){for(var b in a)this[b]=a[b];console.log(this),this.events&&this.delegateEvents(),this.elements&&this.refreshElements(),this.templateSelector&&this.loadTemplate()},proxy:function(a){var b=this;return function(){return a.apply(b,arguments)}},delegateEvents:function(){for(var a in this.events){var c=this.events[a],d=this.proxy(this[c]),e=a.match(b),f=e[1],g=e[2];g===""?this.el.bind(f,d):this.el.delegate(g,f,d)}},refreshElements:function(){for(var a in this.elements)this[a]=this.find(this.elements[a])},loadTemplate:function(){this.template=$(this.templateSelector).html()},find:function(a){return $(a,this.el[0])},render:function(a,b){if(str){var c=str.template(this.template,a);b=$(b)||this.el,b.html(c)}},trigger:function(a,b){$(this).trigger(a,b)},bind:function(a,b){$(this).bind(a,b)}}};c.extend=function(a){var b=function(){this._initialize.apply(this,arguments),this.init&&this.init.apply(this,arguments)};b.prototype=new this;for(var c in a)a.hasOwnProperty(c)&&(b.prototype[c]=a[c]);b.prototype.constructor=b;return b};var d=a.Fidel;c.noConflict=function(){a.Fidel=d;return this},a.Fidel=c}(window)