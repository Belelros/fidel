/*!
  * Fidel - A javascript view controller
  * v2.0.0
  * https://github.com/jgallen23/fidel
  * copyright JGA 2012
  * MIT License
  */
(function(e){var t=function(t,n,r){e.extend(this,n),this.el=t,this.els={},n.defaults=n.defaults||{},this.options=e.extend({},n.defaults,r),this.preInit&&this.preInit(),this.getElements(),this.delegateEvents(),this.delegateActions(),this.init&&this.init()};t.prototype.eventSplitter=/^(\w+)\s*(.*)$/,t.prototype.find=function(e){return this.el.find(e)},t.prototype.proxy=function(t){return e.proxy(t,this)},t.prototype.getElements=function(){if(!this.elements)return;for(var e in this.elements){var t=this.elements[e];this.els[t]=this.find(e)}},t.prototype.delegateEvents=function(){var e=this;if(!this.events)return;for(var t in this.events){var n=this.events[t],r=t.match(this.eventSplitter),i=r[1],s=r[2],o=this.proxy(this[n]);s===""?this.el.on(i,o):this.els[s]?this.els[s].on(i,o):this.el.on(i,s,o)}},t.prototype.delegateActions=function(){var t=this;t.el.on("click","[data-action]",function(n){var r=e(this),i=r.attr("data-action");t[i]&&t[i](n,r)})},t.prototype.on=function(e,t){this.el.on(e,t)},t.prototype.emit=function(e,t){this.el.trigger(e,t)},t.prototype.hide=function(){if(this.views)for(var e in this.views)this.views[e].hide();this.el.hide()},t.prototype.show=function(){if(this.views)for(var e in this.views)this.views[e].show();this.el.show()},e.strap=function(n,r){e.fn[n]=function(i){return this.each(function(){var s=e(this),o=s.data(n);o||(o=new t(s,r,i),s.data(n,o)),typeof i=="string"&&o[i]()})},e.fn[n].defaults=r.defaults||{}},e.strap.View=t})(window.jQuery||window.Zepto)