/*!
  * Fidel - A javascript view controller
  * v2.0.0
  * https://github.com/jgallen23/fidel
  * copyright JGA 2012
  * MIT License
  */
var View=function(a,b){$.extend(this,b),this.el=a,this.delegateEvents(),this.getElements(),this.processSubViews(),this.init&&this.init()};View.prototype.eventSplitter=/^(\w+)\s*(.*)$/,View.prototype.find=function(a){return this.el.find(a)},View.prototype.proxy=function(a){var b=this;return function(){if(!a)return;return a.apply(b,arguments)}},View.prototype.getElements=function(){if(!this.elements)return;for(var a in this.elements){var b=this.elements[a];this[b]=this.find(a)}},View.prototype.delegateEvents=function(){if(!this.events)return;for(var a in this.events){var b=this.events[a],c=a.match(this.eventSplitter),d=c[1],e=c[2],f=this.proxy(this[b]);e===""?this.el.bind(d,f):this.el.delegate(e,d,f)}},View.prototype.processSubViews=function(){if(!this.views)return;for(var a in this.views){var b=this.views[a];this.views[a]=$(b.target).view(b.view);if(b.events)for(var c in b.events){var d=b.events[c],e=this.proxy(this[d]);this.views[a].on(c,e)}}},View.prototype.processSubscriptions=function(){if(!this.subs)return},View.prototype.render=function(){var a=$("[data-template="+this.templateName+"]");if(this.views)for(var b in this.views)this.views[b].render();this.el.html(a),this.getElements()},View.prototype.on=function(a,b){this.el.on(a,b)},View.prototype.emit=function(a,b){this.el.trigger(a,b)},View.prototype.hide=function(){this.el.hide()},View.prototype.show=function(){this.el.show()},!function(a){a.fn.view=function(a){if(this.length!=1)throw new Error("Selector must match 1 element");return new View(this,a)}}(jQuery)